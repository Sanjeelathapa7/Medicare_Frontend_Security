{"ast":null,"code":"// import React, { useState } from \"react\";\n// import { loginApi } from \"../../apis/Apis\";\n// import { toast } from \"react-toastify\";\n// import { useNavigate } from \"react-router-dom\";\n\n// const Login = () => {\n//   const [email, setEmail] = useState(\"\");\n//   const [password, setPassword] = useState(\"\");\n\n//   const navigate = useNavigate();\n\n//   const changeEmail = (e) => {\n//     setEmail(e.target.value);\n//   };\n\n//   const changePassword = (e) => {\n//     setPassword(e.target.value);\n//   };\n\n//   const handleSubmit = (e) => {\n//     e.preventDefault();\n\n//     const data = {\n//       email: email,\n//       password: password,\n//     };\n\n//     loginApi(data)\n//       .then((res) => {\n//         if (res.data.success === false) {\n//           toast.error(res.data.message);\n//         } else {\n//           toast.success(res.data.message);\n//           localStorage.setItem(\"token\", res.data.token);\n//           const convertedJson = JSON.stringify(res.data.userData);\n\n//           // Check if user is admin\n//           const isAdmin = res.data.isAdmin;\n\n//           // Redirect based on admin status\n//           if (isAdmin) {\n//             // Redirect to admin dashboard\n//             navigate(\"/admin/dashboard\");\n\n//           } else {\n//             // Redirect to user dashboard\n//             navigate(\"/user/dashboard\");\n//           }\n\n//           localStorage.setItem(\"user\", convertedJson);\n//         }\n//       })\n//       .catch((err) => {\n//         console.log(err);\n//         toast.error(\"Server Error!\");\n//       });\n//   };\n\n//   return (\n//     <div className=\"d-flex justify-content-center align-items-center vh-100\">\n//       <div style={{ boxShadow: \"0px 0px 10px 0px rgba(0,0,0,0.2)\" }} className=\"d-flex\">\n//         <div className=\"w-50\">\n//           <img src=\"/assets/images/Cover.jpg\" alt=\"Cover Page\" className=\"w-100 h-100\" />\n//         </div>\n//         <div className=\"w-50\">\n//           <h1 className=\"m-4\">Login </h1>\n//           <form className=\"w-75 m-4\">\n//             <label>Email Address</label>\n//             <input\n//               onChange={changeEmail}\n//               className=\"form-control mb-2\"\n//               type=\"email\"\n//               placeholder=\"Enter your email\"\n//             />\n\n//             <label>Password</label>\n//             <input\n//               onChange={changePassword}\n//               className=\"form-control mb-2\"\n//               type=\"password\"\n//               placeholder=\"Enter your password\"\n//             />\n\n//             {/* Remember me, Forgot password, and Register links */}\n//             <div className=\"d-flex justify-content-between align-items-center mb-2\">\n//               <div>\n//                 <input type=\"checkbox\" id=\"rememberMe\" />\n//                 <label htmlFor=\"rememberMe\" className=\"ml-2\">Remember me</label>\n//               </div>\n//               <div>\n//                 <a href=\"/forgot-password\">Forgot password?</a>\n//               </div>\n//             </div>\n\n//             <button\n//               onClick={handleSubmit}\n//               className=\"btn btn-secondary w-100\"\n//               type=\"submit\"\n//               style={{backgroundColor:\"rgba(97, 124, 181, 1)\"}}\n\n//             >\n//               Login\n//             </button>\n//           </form>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Login;","map":{"version":3,"names":[],"sources":["C:/Users/Sanjeela/Desktop/Security_CW2/Frontend/src/pages/user/Login.jsx"],"sourcesContent":["// import React, { useState } from \"react\";\r\n// import { loginApi } from \"../../apis/Apis\";\r\n// import { toast } from \"react-toastify\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n\r\n// const Login = () => {\r\n//   const [email, setEmail] = useState(\"\");\r\n//   const [password, setPassword] = useState(\"\");\r\n\r\n//   const navigate = useNavigate();\r\n\r\n//   const changeEmail = (e) => {\r\n//     setEmail(e.target.value);\r\n//   };\r\n\r\n//   const changePassword = (e) => {\r\n//     setPassword(e.target.value);\r\n//   };\r\n\r\n//   const handleSubmit = (e) => {\r\n//     e.preventDefault();\r\n\r\n//     const data = {\r\n//       email: email,\r\n//       password: password,\r\n//     };\r\n\r\n//     loginApi(data)\r\n//       .then((res) => {\r\n//         if (res.data.success === false) {\r\n//           toast.error(res.data.message);\r\n//         } else {\r\n//           toast.success(res.data.message);\r\n//           localStorage.setItem(\"token\", res.data.token);\r\n//           const convertedJson = JSON.stringify(res.data.userData);\r\n\r\n//           // Check if user is admin\r\n//           const isAdmin = res.data.isAdmin;\r\n\r\n//           // Redirect based on admin status\r\n//           if (isAdmin) {\r\n//             // Redirect to admin dashboard\r\n//             navigate(\"/admin/dashboard\");\r\n            \r\n//           } else {\r\n//             // Redirect to user dashboard\r\n//             navigate(\"/user/dashboard\");\r\n//           }\r\n\r\n//           localStorage.setItem(\"user\", convertedJson);\r\n//         }\r\n//       })\r\n//       .catch((err) => {\r\n//         console.log(err);\r\n//         toast.error(\"Server Error!\");\r\n//       });\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"d-flex justify-content-center align-items-center vh-100\">\r\n//       <div style={{ boxShadow: \"0px 0px 10px 0px rgba(0,0,0,0.2)\" }} className=\"d-flex\">\r\n//         <div className=\"w-50\">\r\n//           <img src=\"/assets/images/Cover.jpg\" alt=\"Cover Page\" className=\"w-100 h-100\" />\r\n//         </div>\r\n//         <div className=\"w-50\">\r\n//           <h1 className=\"m-4\">Login </h1>\r\n//           <form className=\"w-75 m-4\">\r\n//             <label>Email Address</label>\r\n//             <input\r\n//               onChange={changeEmail}\r\n//               className=\"form-control mb-2\"\r\n//               type=\"email\"\r\n//               placeholder=\"Enter your email\"\r\n//             />\r\n\r\n//             <label>Password</label>\r\n//             <input\r\n//               onChange={changePassword}\r\n//               className=\"form-control mb-2\"\r\n//               type=\"password\"\r\n//               placeholder=\"Enter your password\"\r\n//             />\r\n\r\n//             {/* Remember me, Forgot password, and Register links */}\r\n//             <div className=\"d-flex justify-content-between align-items-center mb-2\">\r\n//               <div>\r\n//                 <input type=\"checkbox\" id=\"rememberMe\" />\r\n//                 <label htmlFor=\"rememberMe\" className=\"ml-2\">Remember me</label>\r\n//               </div>\r\n//               <div>\r\n//                 <a href=\"/forgot-password\">Forgot password?</a>\r\n//               </div>\r\n//             </div>\r\n\r\n//             <button\r\n//               onClick={handleSubmit}\r\n//               className=\"btn btn-secondary w-100\"\r\n//               type=\"submit\"\r\n//               style={{backgroundColor:\"rgba(97, 124, 181, 1)\"}}\r\n\r\n//             >\r\n//               Login\r\n//             </button>\r\n//           </form>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default Login;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}